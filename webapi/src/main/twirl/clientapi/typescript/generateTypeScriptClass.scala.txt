@*
 * Copyright Â© 2015-2019 the contributors (see Contributors.md).
 *
 * This file is part of Knora.
 *
 * Knora is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published
 * by the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Knora is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public
 * License along with Knora.  If not, see <http://www.gnu.org/licenses/>.
 *@

@import org.knora.webapi._
@import org.knora.webapi.util._
@import org.knora.webapi.util.clientapi._
@import org.knora.webapi.util.clientapi.TypeScriptBackEnd
@import org.knora.webapi.messages.v2.responder.ontologymessages.Cardinality._

@(classDef: ClientClassDefinition,
  subClassOf: Option[ClassRef],
  importedClasses: Seq[TypeScriptBackEnd.ImportInfo])import { JsonObject, JsonProperty } from "json2typescript";

@for(classInfo <- importedClasses) {import { @classInfo.className } from "@classInfo.importPath";
}@classDef.classDescription match {
    case Some(classDescStr) => {
/**
 * @classDescStr
 */}

    case None => {}
}
@@JsonObject("@{classDef.className}")
export class @{classDef.className}@{
    subClassOf match {
       case Some(subClassDef) => " extends " + subClassDef.className
       case None => ""
    }
} {
@for(property <- classDef.properties) {
@defining(TypeScriptBackEnd.makePropertyObjectType(property.objectType)) { propertyObjectType => @property.propertyDescription match {
    case Some(propDescStr) => {   /**
     * @propDescStr
     */}

    case None => {}
    }
    @@JsonProperty("@{property.propertyName}", @TypeScriptBackEnd.makeJson2TypeScriptType(property)@if(property.cardinality == MayHaveOne || property.isOptionalSet) {, true})
    @{property.propertyName}@TypeScriptBackEnd.handleOption(property): @TypeScriptBackEnd.addBracketsForCardinality(propertyObjectType, property.cardinality) = @TypeScriptBackEnd.makeDefaultValue(property);
}}
}