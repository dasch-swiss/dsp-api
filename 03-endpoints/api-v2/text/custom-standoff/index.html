
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../standard-standoff/">
      
      
        <link rel="next" href="../tei-xml/">
      
      
      <link rel="icon" href="../../../../assets/icons/logo_bw.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Custom Standoff Mapping - DSP-API</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/css/theme.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#xml-to-standoff-mapping-in-api-v2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="DSP-API" class="md-header__button md-logo" aria-label="DSP-API" data-md-component="logo">
      
  <img src="../../../../assets/icons/logo_bw.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DSP-API
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Custom Standoff Mapping
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="DSP-API" class="md-nav__button md-logo" aria-label="DSP-API" data-md-component="logo">
      
  <img src="../../../../assets/icons/logo_bw.svg" alt="logo">

    </a>
    DSP-API
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-introduction/what-is-dsp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is DSP?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-introduction/file-formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Formats in DSP-API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-introduction/standoff-rdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standoff/RDF Text Markup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-introduction/legal-info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legal Information for Assets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../01-introduction/example-project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    An Example Project
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP Ontologies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            DSP Ontologies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../02-dsp-ontologies/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../02-dsp-ontologies/knora-base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Knora Base Ontology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../02-dsp-ontologies/salsah-gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The SALSAH GUI Ontology
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP-API Endpoints
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DSP-API Endpoints
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../openapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP-API V2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            DSP-API V2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reading-and-searching-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading and Searching Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reading-user-permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading the User's Permissions on Resources and Values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Lists
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../query-language/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gravsearch - Virtual Graph Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editing-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating and Editing Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editing-values/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating and Editing Values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ontology-information/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Querying, Creating, and Updating Ontologies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_10" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2_10" id="__nav_3_2_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Textual Data in DSP-API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2_10">
            <span class="md-nav__icon md-icon"></span>
            Textual Data in DSP-API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../standard-standoff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard Standoff Markup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Custom Standoff Mapping
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Custom Standoff Mapping
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-a-custom-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a custom Mapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a custom Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-structure-of-a-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Structure of a Mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-and-class-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      id and class Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-cardinalities" class="md-nav__link">
    <span class="md-ellipsis">
      Respecting Cardinalities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standoff-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Standoff Data Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-references-in-an-xml-document" class="md-nav__link">
    <span class="md-ellipsis">
      Internal References in an XML Document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-standoff-classes-and-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined Standoff Classes and Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-property-types" class="md-nav__link">
    <span class="md-ellipsis">
      Respecting Property Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-a-mapping-and-sending-it-to-dsp-api" class="md-nav__link">
    <span class="md-ellipsis">
      Validating a Mapping and sending it to DSP-API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tei-xml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TEI XML
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../permalinks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permalinks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../knora-iris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IRIs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Admin API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Admin API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users Endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects Endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Groups Endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lists Endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permissions Endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-admin/stores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stores Endpoint
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Util API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Util API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-util/version/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Instrumentation API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Instrumentation API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../instrumentation/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../instrumentation/health/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Health Endpoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../instrumentation/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics Endpoint
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Publishing and Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Publishing and Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../04-publishing-deployment/publishing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../04-publishing-deployment/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP Internals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            DSP Internals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1_1" id="__nav_5_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architectural Decision Records (ADR)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            Architectural Decision Records (ADR)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0001-record-architecture-decisions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0001 Record Architectural Decisions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0002-change-cache-service-manager-from-akka-actor-to-zlayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0002 Change Cache Service Manager from Akka-Actor to ZLayer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0003-change-iiif-service-manager-and-sipi-implementation-to-zlayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0003 Change IIIF Service Manager and Sipi implementation to zlayer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0004-change-triplestore-service-manager-and-fuseki-implementation-to-zlayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0004 Change Triplestore Service Manager and Fuseki implementation to ZLayer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0005-change-respondermanager-to-a-simple-case-class/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0005 Change ResponderManager to a simple case class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0006-use-zio-http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0006 Gradually Replace Akka-HTTP with ZIO-HTTP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0007-zio-fication-of-responders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0007 ZIO-fication of Responders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0008-replace-akka-with-pekko/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0008 Replace Akka with Pekko
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/adr/ADR-0009-api-v3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0009 API `v3` for client-optimized endpoints
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP-API Design Principles
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            DSP-API Design Principles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/principles/design-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/principles/store-module/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Store Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/principles/triplestore-updates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Triplestore Updates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/principles/consistency-checking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consistency Checking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/principles/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/principles/rdf-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDF Processing API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP-API V2 Design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            DSP-API V2 Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API v2 Design Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/ontology-schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ontology Schemas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/smart-iris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smart IRIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/content-wrappers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Content Wrappers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/json-ld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON-LD Parsing and Formatting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/ontology-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ontology Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/sipi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSP-API and Sipi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/gravsearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gravsearch Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/standoff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standoff Markup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/ark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archival Resource Key (ARK)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-v2/query-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SPARQL Query Design
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/api-admin/administration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admin API Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_5" >
        
          
          <label class="md-nav__link" for="__nav_5_1_5" id="__nav_5_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSP Domain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_5">
            <span class="md-nav__icon md-icon"></span>
            DSP Domain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/domain/domain-entities-and-relations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Domain Entities and Relations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/domain/system-instances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Instances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/design/domain/class-and-property-hierarchies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class and Property Hierarchies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/building-and-running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build and Running
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/vscode-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Visual Studio Code for development of DSP-API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/docker-cheat-sheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/docker-compose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Starting the DSP-Stack inside Docker Container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/updating-repositories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating Repositories
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../05-internals/development/third-party/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Third-Party Dependencies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SIPI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            SIPI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../06-sipi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../06-sipi/sipi-and-dsp-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interaction between Sipi and DSP-API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lucene
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Lucene
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../07-lucene/lucene-query-parser-syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lucene Query Parser Syntax
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../08-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently Asked Questions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../09-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../10-migration-guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration Guides and Deprecations
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-a-custom-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a custom Mapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a custom Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-structure-of-a-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Structure of a Mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-and-class-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      id and class Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-cardinalities" class="md-nav__link">
    <span class="md-ellipsis">
      Respecting Cardinalities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standoff-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Standoff Data Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-references-in-an-xml-document" class="md-nav__link">
    <span class="md-ellipsis">
      Internal References in an XML Document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-standoff-classes-and-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined Standoff Classes and Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-property-types" class="md-nav__link">
    <span class="md-ellipsis">
      Respecting Property Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-a-mapping-and-sending-it-to-dsp-api" class="md-nav__link">
    <span class="md-ellipsis">
      Validating a Mapping and sending it to DSP-API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="xml-to-standoff-mapping-in-api-v2">XML to Standoff Mapping in API v2</h1>
<h2 id="creating-a-custom-mapping">Creating a custom Mapping</h2>
<p>The DSP-API's standard standoff mapping only supports a few HTML tags. In order to
submit more complex XML markup, a custom mapping has to be
created first. A mapping expresses the relations between XML
elements and attributes, and their corresponding standoff classes and
properties. The relations expressed in a mapping are one-to-one
relations, so the XML can be recreated from the data in RDF. However,
since HTML offers a very limited set of elements, custom mappings support
the combination of element names and classes. In this way, the same
element can be used several times in combination with another classname
(please note that <code>&lt;a&gt;</code> without a class is a hyperlink whereas <code>&lt;a class="salsah-link"&gt;</code> is an internal link/standoff link).</p>
<p>With a mapping, a default XSL transformation may be provided to
transform the XML to HTML before sending it back to the client. This is
useful when the client is a web-browser expecting HTML (instead of XML).</p>
<h3 id="basic-structure-of-a-mapping">Basic Structure of a Mapping</h3>
<p>The mapping is written in XML itself (for a formal description, see
<code>webapi/src/resources/mappingXMLToStandoff.xsd</code>). It has the following
structure (the indentation corresponds to the nesting in XML):</p>
<ul>
<li><code>&lt;mapping&gt;</code>: the root element<ul>
<li><code>&lt;defaultXSLTransformation&gt; (optional)</code>: the IRI of the
  default XSL transformation to be applied to the XML when
  reading it back from DSP-API. The XSL transformation is
  expected to produce HTML. If given, the IRI has to refer to
  a resource of type <code>knora-base:XSLTransformation</code>.</li>
<li><code>&lt;mappingElement&gt;</code>: an element of the mapping (at least one)<ul>
<li><code>&lt;tag&gt;</code>: information about the XML element that is mapped to a standoff class<ul>
<li><code>&lt;name&gt;</code>: name of the XML element</li>
<li><code>&lt;class&gt;</code>: value of the class attribute of
  the XML element, if any. If the element has
  no class attribute, the keyword <code>noClass</code>
  has to be used.</li>
<li><code>&lt;namespace&gt;</code>: the namespace the XML element
  belongs to, if any. If the element does not
  belong to a namespace, the keyword
  <code>noNamespace</code> has to be used.</li>
<li><code>&lt;separatesWords&gt;</code>: a Boolean value
  indicating whether this tag separates words
  in the text. Once an XML document is
  converted to RDF-standoff the markup is
  stripped from the text, possibly leading to
  continuous text that has been separated by
  tags before. For structural tags like
  paragraphs etc., <code>&lt;separatesWords&gt;</code> can be
  set to <code>true</code> in which case a special
  separator is inserted in the text in the
  RDF representation. In this way, words stay
  separated and are represented in the
  fulltext index as such.</li>
</ul>
</li>
<li><code>&lt;standoffClass&gt;</code>: information about the standoff class the XML element is mapped to<ul>
<li><code>&lt;classIri&gt;</code>: IRI of the standoff class the XML element is mapped to</li>
<li><code>&lt;attributes&gt;</code>: XML attributes to be mapped to standoff properties (other than <code>id</code> or <code>class</code>), if any<ul>
<li><code>&lt;attribute&gt;</code>: an XML attribute to be mapped to a standoff property, may be repeated<ul>
<li><code>&lt;attributeName&gt;</code>: the name of the XML attribute</li>
<li><code>&lt;namespace&gt;</code>: the namespace the attribute belongs to, if any. 
  If the attribute does not belong to a namespace, the keyword <code>noNamespace</code> has to be used.</li>
<li><code>&lt;propertyIri&gt;</code>: the IRI of the standoff property the XML attribute is mapped to.</li>
</ul>
</li>
</ul>
</li>
<li><code>&lt;datatype&gt;</code>: the data type of the standoff class, if any.<ul>
<li><code>&lt;type&gt;</code>: the IRI of the data type standoff class</li>
<li><code>&lt;attributeName&gt;</code>: the name of the attribute holding the typed value in the expected standard format</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>XML structure of a mapping:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;mapping&gt;</span>
<span class="w">    </span><span class="nt">&lt;defaultXSLTransformation&gt;</span>Iri<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>knora-base:XSLTransformation<span class="nt">&lt;/defaultXSLTransformation&gt;</span>
<span class="w">    </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>XML<span class="w"> </span>element<span class="w"> </span>name<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;class&gt;</span>XML<span class="w"> </span>class<span class="w"> </span>name<span class="w"> </span>or<span class="w"> </span>&quot;noClass&quot;<span class="nt">&lt;/class&gt;</span>
<span class="w">            </span><span class="nt">&lt;namespace&gt;</span>XML<span class="w"> </span>namespace<span class="w"> </span>or<span class="w"> </span>&quot;noNamespace&quot;<span class="nt">&lt;/namespace&gt;</span>
<span class="w">            </span><span class="nt">&lt;separatesWords&gt;</span>true<span class="w"> </span>or<span class="w"> </span>false<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">            </span><span class="nt">&lt;classIri&gt;</span>standoff<span class="w"> </span>class<span class="w"> </span>Iri<span class="nt">&lt;/classIri&gt;</span>
<span class="w">            </span><span class="nt">&lt;attributes&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute&gt;</span>
<span class="w">                    </span><span class="nt">&lt;attributeName&gt;</span>XML<span class="w"> </span>attribute<span class="w"> </span>name<span class="nt">&lt;/attributeName&gt;</span>
<span class="w">                    </span><span class="nt">&lt;namespace&gt;</span>XML<span class="w"> </span>namespace<span class="w"> </span>or<span class="w"> </span>&quot;noNamespace&quot;<span class="nt">&lt;/namespace&gt;</span>
<span class="w">                    </span><span class="nt">&lt;propertyIri&gt;</span>standoff<span class="w"> </span>property<span class="w"> </span>Iri<span class="nt">&lt;/propertyIri&gt;</span>
<span class="w">                </span><span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/attributes&gt;</span>
<span class="w">            </span><span class="nt">&lt;datatype&gt;</span>
<span class="w">                </span><span class="nt">&lt;type&gt;</span>standoff<span class="w"> </span>data<span class="w"> </span>type<span class="w"> </span>class<span class="nt">&lt;/type&gt;</span>
<span class="w">                </span><span class="nt">&lt;attributeName&gt;</span>XML<span class="w"> </span>attribute<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>typed<span class="w"> </span>value<span class="nt">&lt;/attributeName&gt;</span>
<span class="w">            </span><span class="nt">&lt;/datatype&gt;</span>
<span class="w">        </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>
<span class="w">    </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">       </span>...
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>
<span class="nt">&lt;/mapping&gt;</span>
</code></pre></div>
<p>Please note that the absence of an XML namespace and/or a class have to
be explicitly stated using the keywords <code>noNamespace</code> and
<code>noClass</code>. This is because we use XML Schema validation to ensure the one-to-one
relations between XML elements and standoff classes. XML Schema validation's unique checks
do not support optional values.</p>
<h3 id="id-and-class-attributes"><code>id</code> and <code>class</code> Attributes</h3>
<p>The <code>id</code> and <code>class</code> attributes are supported by default and do not have
to be included in the mapping like other attributes. The <code>id</code> attribute
identifies an element and must be unique in the document. <code>id</code> is an
optional attribute. The <code>class</code> attribute allows for the reuse of an
element in the mapping, i.e. the same element can be combined with
different class names and mapped to different standoff classes (mapping
element <code>&lt;class&gt;</code> in <code>&lt;tag&gt;</code>).</p>
<h3 id="respecting-cardinalities">Respecting Cardinalities</h3>
<p>A mapping from XML elements and attributes to standoff classes and
standoff properties must respect the cardinalities defined in the
ontology for those very standoff classes. If an XML element is mapped to
a certain standoff class and this class requires a standoff property, an
attribute must be defined for the XML element mapping to that very
standoff property. Equally, all mappings for attributes of an XML
element must have corresponding cardinalities for standoff properties
defined for the standoff class the XML element maps to.</p>
<p>However, since an XML attribute may occur once at maximum, it makes
sense to make the corresponding standoff property required
(<code>owl:cardinality</code> of one) in the ontology or optional
(<code>owl:maxCardinality</code> of one), but not allowing it more than once.</p>
<h3 id="standoff-data-types">Standoff Data Types</h3>
<p>DSP-API allows the use of all its value types as standoff data types
(defined in <code>knora-base.ttl</code>):</p>
<ul>
<li><code>knora-base:StandoffLinkTag</code>: Represents a reference to a 
  resource (the IRI of the target resource must be submitted in the
  data type attribute).</li>
<li><code>knora-base:StandoffInternalReferenceTag</code>: Represents an internal
  reference inside a document (the id of the target element inside the
  same document must be indicated in the data type attribute); see
  <a href="#internal-references-in-an-xml-document">Internal References in an XML Document</a>.</li>
<li><code>knora-base:StandoffUriTag</code>: Represents a reference to a URI (the
  URI of the target resource must be submitted in the data type
  attribute).</li>
<li><code>knora-base:StandoffDateTag</code>: Represents a date (a date
  string must be submitted in the data type attribute, e.g.
  <code>GREGORIAN:2017-01-27</code>).</li>
<li><code>knora-base:StandoffColorTag</code>: Represents a color (a hexadecimal
  RGB color string must be submitted in the data type attribute, e.g.
  <code>#0000FF</code>).</li>
<li><code>knora-base:StandoffIntegerTag</code>: Represents an integer (the integer
  must be submitted in the data type attribute).</li>
<li><code>knora-base:StandoffDecimalTag</code>: Represents a number with fractions
  (the decimal number must be submitted in the data type attribute,
  e.g. <code>1.1</code>).</li>
<li><code>knora-base:StandoffIntervalTag</code>: Represents an interval (two
  decimal numbers separated with a comma must be submitted in the data
  type attribute, e.g. <code>1.1,2.2</code>).</li>
<li><code>knora-base:StandoffBooleanTag</code>: Represents a Boolean value (<code>true</code>
  or <code>false</code> must be submitted in the data type attribute).</li>
<li><code>knora-base:StandoffTimeTag</code>: Represents a timestamp value (an <code>xsd:dateTimeStamp</code>
  must be submitted in the data type attribute).</li>
</ul>
<p>The basic idea is that parts of a text can be marked up in a way that
allows using DSP-API's built-in data types. In order to do so, the typed
values have to be provided in a standardized way in an attribute that
has to be defined in the mapping.</p>
<p>Data type standoff classes are standoff classes with predefined
properties (e.g., a <code>knora-base:StandoffLinkTag</code> has a
<code>knora-base:standoffTagHasLink</code> and a <code>knora-base:StandoffIntegerTag</code>
has a <code>knora-base:valueHasInteger</code>). Please note the data type standoff
classes can not be combined, i.e. a standoff class can only be the
subclass of <strong>one</strong> data type standoff class. However, standoff data
type classes can be subclassed and extended further by assigning
properties to them (see below).</p>
<p>The following simple mapping illustrates this principle:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;mapping&gt;</span>
<span class="w">     </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>text<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;class&gt;</span>noClass<span class="nt">&lt;/class&gt;</span>
<span class="w">            </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">            </span><span class="nt">&lt;separatesWords&gt;</span>false<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">            </span><span class="nt">&lt;classIri&gt;</span>http://www.knora.org/ontology/standoff#StandoffRootTag<span class="nt">&lt;/classIri&gt;</span>
<span class="w">        </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>

<span class="w">    </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>mydate<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;class&gt;</span>noClass<span class="nt">&lt;/class&gt;</span>
<span class="w">            </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">            </span><span class="nt">&lt;separatesWords&gt;</span>false<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">            </span><span class="nt">&lt;classIri&gt;</span>http://www.knora.org/ontology/0001/anything#StandoffEventTag<span class="nt">&lt;/classIri&gt;</span>
<span class="w">            </span><span class="nt">&lt;attributes&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute&gt;</span>
<span class="w">                    </span><span class="nt">&lt;attributeName&gt;</span>description<span class="nt">&lt;/attributeName&gt;</span>
<span class="w">                    </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">                    </span><span class="nt">&lt;propertyIri&gt;</span>http://www.knora.org/ontology/0001/anything#standoffEventTagHasDescription<span class="nt">&lt;/propertyIri&gt;</span>
<span class="w">                </span><span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/attributes&gt;</span>
<span class="w">            </span><span class="nt">&lt;datatype&gt;</span>
<span class="w">                </span><span class="nt">&lt;type&gt;</span>http://www.knora.org/ontology/knora-base#StandoffDateTag<span class="nt">&lt;/type&gt;</span>
<span class="w">                </span><span class="nt">&lt;attributeName&gt;</span>knoraDate<span class="nt">&lt;/attributeName&gt;</span>
<span class="w">            </span><span class="nt">&lt;/datatype&gt;</span>
<span class="w">        </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>
<span class="nt">&lt;/mapping&gt;</span>
</code></pre></div>
<p><code>&lt;datatype&gt;</code> <strong>must</strong> hold the IRI of a standoff data type class (see
list above). The <code>&lt;classIri&gt;</code> must be a subclass of this type or this
type itself (the latter is probably not recommendable since semantics
are missing: what is the meaning of the date?). In the example above,
the standoff class is <code>anything:StandoffEventTag</code> which has the
following definition in the ontology <code>anything-onto.ttl</code>:</p>
<div class="highlight"><pre><span></span><code>anything:StandoffEventTag rdf:type owl:Class ;

    rdfs:subClassOf knora-base:StandoffDateTag,
                   [
                      rdf:type owl:Restriction ;
                      owl:onProperty :standoffEventTagHasDescription ;
                      owl:cardinality &quot;1&quot;^^xsd:nonNegativeInteger
                   ] ;

    rdfs:label &quot;Represents an event in a TextValue&quot;@en ;

    rdfs:comment &quot;&quot;&quot;Represents an event in a TextValue&quot;&quot;&quot;@en .
</code></pre></div>
<p><code>anything:StandoffEventTag</code> is a subclass of
<code>knora-base:StandoffDateTag</code> and therefore has the data type date. It
also requires the standoff property
<code>anything:standoffEventTagHasDescription</code> which is defined as an
attribute in the mapping.</p>
<p>Once the mapping has been created, an XML like the following could be
sent to DSP-API and converted to standoff:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;text&gt;</span>
<span class="w">    </span>We<span class="w"> </span>had<span class="w"> </span>a<span class="w"> </span>party<span class="w"> </span>on<span class="w"> </span><span class="nt">&lt;mydate</span><span class="w"> </span><span class="na">description=</span><span class="s">&quot;new year&quot;</span><span class="w"> </span><span class="na">knoraDate=</span><span class="s">&quot;GREGORIAN:2016-12-31&quot;</span><span class="nt">&gt;</span>New<span class="w"> </span>Year&#39;s<span class="w"> </span>Eve<span class="nt">&lt;/mydate&gt;</span>.<span class="w"> </span>
<span class="w">    </span>It<span class="w"> </span>was<span class="w"> </span>a<span class="w"> </span>lot<span class="w"> </span>of<span class="w"> </span>fun.
<span class="nt">&lt;/text&gt;</span>
</code></pre></div>
<p>The attribute holds the date in the format of a DSP-API date string (the
format is also documented in the typescript type alias <code>dateString</code> in
module <code>basicMessageComponents</code>. There you will also find documentation
about the other types like color etc.). DSP-API date strings have this
format: <code>GREGORIAN|JULIAN):YYYY[-MM[-DD]][:YYYY[-MM[-DD]]]</code>. This allows
for different formats as well as for imprecision and periods. Intervals
are submitted as one attribute in the following format:
<code>interval-attribute="1.0,2.0"</code> (two decimal numbers separated with a
comma).</p>
<p>You will find a sample mapping with all the data types and a sample XML
file in the the test data:
<code>test_data/test_route/texts/mappingForHTML.xml</code> and
<code>test_data/test_route/texts/HTML.xml</code>.</p>
<h3 id="internal-references-in-an-xml-document">Internal References in an XML Document</h3>
<p>Internal references inside an XML document can be represented using the
data type standoff class <code>knora-base:StandoffInternalReferenceTag</code> or a
subclass of it. This class has a standoff property that points to a
standoff node representing the target XML element when converted to RDF.</p>
<p>The following example shows the definition of a mapping element for an
internal reference (for reasons of simplicity, only the mapping element
for the element is question is depicted):</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;mappingElement&gt;</span>
<span class="w">    </span><span class="nt">&lt;tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>ref<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;class&gt;</span>noClass<span class="nt">&lt;/class&gt;</span>
<span class="w">        </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">        </span><span class="nt">&lt;separatesWords&gt;</span>false<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">    </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">        </span><span class="nt">&lt;classIri&gt;</span>http://www.knora.org/ontology/knora-base#StandoffInternalReferenceTag<span class="nt">&lt;/classIri&gt;</span>
<span class="w">        </span><span class="nt">&lt;datatype&gt;</span>
<span class="w">            </span><span class="nt">&lt;type&gt;</span>http://www.knora.org/ontology/knora-base#StandoffInternalReferenceTag<span class="nt">&lt;/type&gt;</span>
<span class="w">            </span><span class="nt">&lt;attributeName&gt;</span>internalRef<span class="nt">&lt;/attributeName&gt;</span>
<span class="w">        </span><span class="nt">&lt;/datatype&gt;</span>
<span class="w">    </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="nt">&lt;/mappingElement&gt;</span>
</code></pre></div>
<p>Now, an internal reference to an element in the same document can be
made that will be converted to a pointer in RDF:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;text&gt;</span>
<span class="w">    </span>This<span class="w"> </span>is<span class="w"> </span>an<span class="w"> </span><span class="nt">&lt;sample</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>element<span class="nt">&lt;/sample&gt;</span><span class="w"> </span>and<span class="w"> </span>here<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>reference<span class="w"> </span>to<span class="w"> </span><span class="nt">&lt;ref</span><span class="w"> </span><span class="na">internalRef=</span><span class="s">&quot;#1&quot;</span><span class="nt">&gt;</span>it<span class="nt">&lt;/ref&gt;</span>.
<span class="nt">&lt;/text&gt;</span>
</code></pre></div>
<p>An internal reference in XML has to start with a <code>#</code> followed by the
value of the <code>id</code> attribute of the element referred to.</p>
<h3 id="predefined-standoff-classes-and-properties">Predefined Standoff Classes and Properties</h3>
<p>The standoff ontology <code>standoff-onto.ttl</code> offers a set of predefined
standoff classes that can be used in a custom mapping like the
following:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;mapping&gt;</span>
<span class="w">    </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>myDoc<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;class&gt;</span>noClass<span class="nt">&lt;/class&gt;</span>
<span class="w">            </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">            </span><span class="nt">&lt;separatesWords&gt;</span>false<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">            </span><span class="nt">&lt;classIri&gt;</span>http://www.knora.org/ontology/standoff#StandoffRootTag<span class="nt">&lt;/classIri&gt;</span>
<span class="w">            </span><span class="nt">&lt;attributes&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute&gt;</span>
<span class="w">                    </span><span class="nt">&lt;attributeName&gt;</span>documentType<span class="nt">&lt;/attributeName&gt;</span>
<span class="w">                    </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">                    </span><span class="nt">&lt;propertyIri&gt;</span>http://www.knora.org/ontology/standoff#standoffRootTagHasDocumentType<span class="nt">&lt;/propertyIri&gt;</span>
<span class="w">                </span><span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/attributes&gt;</span>
<span class="w">        </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>

<span class="w">    </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>p<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;class&gt;</span>noClass<span class="nt">&lt;/class&gt;</span>
<span class="w">            </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">            </span><span class="nt">&lt;separatesWords&gt;</span>true<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">            </span><span class="nt">&lt;classIri&gt;</span>http://www.knora.org/ontology/standoff#StandoffParagraphTag<span class="nt">&lt;/classIri&gt;</span>
<span class="w">        </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>

<span class="w">    </span><span class="nt">&lt;mappingElement&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag&gt;</span>
<span class="w">            </span><span class="nt">&lt;name&gt;</span>i<span class="nt">&lt;/name&gt;</span>
<span class="w">            </span><span class="nt">&lt;class&gt;</span>noClass<span class="nt">&lt;/class&gt;</span>
<span class="w">            </span><span class="nt">&lt;namespace&gt;</span>noNamespace<span class="nt">&lt;/namespace&gt;</span>
<span class="w">            </span><span class="nt">&lt;separatesWords&gt;</span>false<span class="nt">&lt;/separatesWords&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tag&gt;</span>
<span class="w">        </span><span class="nt">&lt;standoffClass&gt;</span>
<span class="w">            </span><span class="nt">&lt;classIri&gt;</span>http://www.knora.org/ontology/standoff#StandoffItalicTag<span class="nt">&lt;/classIri&gt;</span>
<span class="w">        </span><span class="nt">&lt;/standoffClass&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappingElement&gt;</span>
<span class="nt">&lt;/mapping&gt;</span>
</code></pre></div>
<p>Predefined standoff classes may be used by various projects, each
providing a custom mapping to be able to recreate the original XML from
RDF. Predefined standoff classes may also be inherited and extended in
project specific ontologies.</p>
<p>The mapping above allows for an XML like this:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;myDoc</span><span class="w"> </span><span class="na">documentType=</span><span class="s">&quot;letter&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;p&gt;</span>
<span class="w">        </span>This<span class="w"> </span>my<span class="w"> </span>text<span class="w"> </span>that<span class="w"> </span>is<span class="w"> </span><span class="nt">&lt;i&gt;</span>very<span class="nt">&lt;/i&gt;</span><span class="w"> </span>interesting.
<span class="w">    </span><span class="nt">&lt;/p&gt;</span>
<span class="w">    </span><span class="nt">&lt;p&gt;</span>
<span class="w">        </span>And<span class="w"> </span>here<span class="w"> </span>it<span class="w"> </span>goes<span class="w"> </span>on.
<span class="w">    </span><span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/myDoc&gt;</span>
</code></pre></div>
<h3 id="respecting-property-types">Respecting Property Types</h3>
<p>When mapping XML attributes to standoff properties, attention has to be
paid to the properties' object constraints.</p>
<p>In the ontology, standoff property literals may have one of the
following <code>knora-base:objectDatatypeConstraint</code>:</p>
<ul>
<li><code>xsd:string</code></li>
<li><code>xsd:integer</code></li>
<li><code>xsd:boolean</code></li>
<li><code>xsd:decimal</code></li>
<li><code>xsd:anyURI</code></li>
</ul>
<p>In XML, all attribute values are submitted as strings. However, these
string representations need to be convertible to the types defined in
the ontology. If they are not, the request will be rejected. It is
recommended to enforce types on attributes by applying XML Schema
validations (restrictions).</p>
<p>Links (object property) to a <code>knora-base:Resource</code> can be represented
using the data type standoff class <code>knora-base:StandoffLinkTag</code>,
internal links using the data type standoff class
<code>knora-base:StandoffInternalReferenceTag</code>.</p>
<h2 id="validating-a-mapping-and-sending-it-to-dsp-api">Validating a Mapping and sending it to DSP-API</h2>
<p>A mapping can be validated before sending it to DSP-API with the following
XML Schema file: <code>webapi/src/resources/mappingXMLToStandoff.xsd</code>. Any
mapping that does not conform to this XML Schema file will be rejected
by DSP-API.</p>
<p>The mapping has to be sent as a multipart request to the standoff route
using the path segment <code>mapping</code>:</p>
<div class="highlight"><pre><span></span><code>HTTP POST http://host/v2/mapping
</code></pre></div>
<p>The multipart request consists of two named parts:</p>
<div class="highlight"><pre><span></span><code>&quot;json&quot;:

  {
      &quot;knora-api:mappingHasName&quot;: &quot;My Mapping&quot;,
      &quot;knora-api:attachedToProject&quot;: &quot;projectIRI&quot;,
      &quot;rdfs:label&quot;: &quot;MappingNameSegment&quot;,
      &quot;@context&quot;: {
          &quot;rdfs&quot;: &quot;http://www.w3.org/2000/01/rdf-schema#&quot;,
          &quot;knora-api&quot;: &quot;http://api.knora.org/ontology/knora-api/v2#&quot;
      }
  }

&quot;xml&quot;:

  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;mapping&gt;
      ...
  &lt;/mapping&gt;
</code></pre></div>
<p>A successful response returns the IRI of the mapping. However, the IRI
of a mapping is predictable: it consists of the project Iri followed by
<code>/mappings/</code> and the <code>knora-api:mappingHasName</code> submitted in the JSON-LD (if the name
already exists, the request will be rejected). Once created, a mapping
can be used to create TextValues in Knora. The formats are documented in
the v2 typescript interfaces <code>AddMappingRequest</code> and <code>AddMappingResponse</code>
in module <code>MappingFormats</code></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="March 28, 2025 09:43:17 UTC">March 28, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.suggest", "version"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>