
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/icons/dasch-favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.3">
    
    
      
        <title>XML to Standoff Mapping - DSP-API</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6b80c2a2.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/style/theme.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#xml-to-standoff-mapping-in-api-v1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DSP-API" class="md-header__button md-logo" aria-label="DSP-API" data-md-component="logo">
      
  <img src="../../../assets/icons/dasch-icon-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DSP-API
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              XML to Standoff Mapping
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dasch-swiss/dsp-api" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    dasch-swiss/dsp-api
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../01-introduction/what-is-dsp/" class="md-tabs__link">
        Introduction
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../02-dsp-ontologies/introduction/" class="md-tabs__link">
        DSP Ontologies
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        The DSP Endpoints
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../04-publishing-deployment/publishing/" class="md-tabs__link">
        Publishing and Deployment
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../05-internals/design/adr/0001-record-architecture-decisions/" class="md-tabs__link">
        DSP Internals
      </a>
    </li>
  

  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../06-sipi/" class="md-tabs__link">
        SIPI
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../07-lucene/lucene-query-parser-syntax/" class="md-tabs__link">
        Lucene
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../08-faq/" class="md-tabs__link">
      Frequently Asked Questions
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../09-release-notes/" class="md-tabs__link">
        Release Notes
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DSP-API" class="md-nav__button md-logo" aria-label="DSP-API" data-md-component="logo">
      
  <img src="../../../assets/icons/dasch-icon-white.svg" alt="logo">

    </a>
    DSP-API
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dasch-swiss/dsp-api" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    dasch-swiss/dsp-api
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-introduction/what-is-dsp/" class="md-nav__link">
        What is DSP?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-introduction/file-formats/" class="md-nav__link">
        File Formats in DSP-API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-introduction/standoff-rdf/" class="md-nav__link">
        Standoff/RDF Text Markup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-introduction/example-project/" class="md-nav__link">
        An Example Project
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          DSP Ontologies
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP Ontologies" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          DSP Ontologies
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../02-dsp-ontologies/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../02-dsp-ontologies/knora-base/" class="md-nav__link">
        The Knora Base Ontology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../02-dsp-ontologies/salsah-gui/" class="md-nav__link">
        The SALSAH GUI Ontology
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          The DSP Endpoints
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="The DSP Endpoints" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          The DSP Endpoints
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          DSP-API V1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP-API V1" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          DSP-API V1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reading-and-searching-resources/" class="md-nav__link">
        Reading and Searching Resources
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          XML to Standoff Mapping
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        XML to Standoff Mapping
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-knora-standard-mapping" class="md-nav__link">
    The Knora Standard Mapping
  </a>
  
    <nav class="md-nav" aria-label="The Knora Standard Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintenance" class="md-nav__link">
    Maintenance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-custom-mapping" class="md-nav__link">
    Creating a custom Mapping
  </a>
  
    <nav class="md-nav" aria-label="Creating a custom Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-structure-of-a-mapping" class="md-nav__link">
    Basic Structure of a Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-and-class-attributes" class="md-nav__link">
    id and class Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-cardinalities" class="md-nav__link">
    Respecting Cardinalities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standoff-data-types" class="md-nav__link">
    Standoff Data Types
  </a>
  
    <nav class="md-nav" aria-label="Standoff Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internal-references-in-an-xml-document" class="md-nav__link">
    Internal References in an XML Document
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-standoff-classes-and-properties" class="md-nav__link">
    Predefined Standoff Classes and Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-property-types" class="md-nav__link">
    Respecting Property Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-a-mapping-and-sending-it-to-knora" class="md-nav__link">
    Validating a Mapping and sending it to Knora
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-resources/" class="md-nav__link">
        Adding Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reading-and-searching-resources/" class="md-nav__link">
        Reading and Searching Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reading-values/" class="md-nav__link">
        Reading Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-values/" class="md-nav__link">
        Adding Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changing-values/" class="md-nav__link">
        Changing Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../delete-resources-and-values/" class="md-nav__link">
        Deleting Resources and Values
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          DSP-API V2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP-API V2" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          DSP-API V2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/knora-iris/" class="md-nav__link">
        Knora IRIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/reading-and-searching-resources/" class="md-nav__link">
        Reading and Searching Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/reading-user-permissions/" class="md-nav__link">
        Reading the User's Permissions on Resources and Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/getting-lists/" class="md-nav__link">
        Getting Lists
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/xml-to-standoff-mapping/" class="md-nav__link">
        XML to Standoff Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/query-language/" class="md-nav__link">
        Gravsearch - Virtual Graph Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/editing-resources/" class="md-nav__link">
        Creating and Editing Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/editing-values/" class="md-nav__link">
        Creating and Editing Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/ontology-information/" class="md-nav__link">
        Querying, Creating, and Updating Ontologies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/tei-xml/" class="md-nav__link">
        TEI/XML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-v2/permalinks/" class="md-nav__link">
        Permalinks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Admin API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Admin API" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Admin API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/users/" class="md-nav__link">
        Users Endpoint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/projects/" class="md-nav__link">
        Projects Endpoint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/groups/" class="md-nav__link">
        Groups Endpoint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/lists/" class="md-nav__link">
        Lists Endpoint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/permissions/" class="md-nav__link">
        Permissions Endpoint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-admin/stores/" class="md-nav__link">
        Stores Endpoint
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_5">
          Util API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Util API" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Util API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-util/health/" class="md-nav__link">
        Health
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-util/version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Publishing and Deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Publishing and Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Publishing and Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-publishing-deployment/publishing/" class="md-nav__link">
        Publishing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-publishing-deployment/getting-started/" class="md-nav__link">
        Getting Started with DSP-API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-publishing-deployment/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-publishing-deployment/updates/" class="md-nav__link">
        Updating Repositories when Upgrading DSP-API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          DSP Internals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP Internals" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          DSP Internals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Design" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_1" type="checkbox" id="__nav_5_1_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1_1">
          Architectural Decision Records (ADR)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Architectural Decision Records (ADR)" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_1">
          <span class="md-nav__icon md-icon"></span>
          Architectural Decision Records (ADR)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/adr/0001-record-architecture-decisions/" class="md-nav__link">
        Record Architectural Decisions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/adr/0002-change-cache-service-manager-from-akka-actor-to-zlayer/" class="md-nav__link">
        Change Cache Service Manager from Akka-Actor to ZLayer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/adr/0003-change-iiif-service-manager-and-sipi-implementation-to-zlayer/" class="md-nav__link">
        Change IIIF Service Manager and Sipi implementation to zlayer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/adr/0004-change-triplestore-service-manager-and-fuseki-implementation-to-zlayer/" class="md-nav__link">
        Change Triplestore Service Manager and Fuseki implementation to ZLayer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/adr/0005-change-respondermanager-to-a-simple-case-class/" class="md-nav__link">
        Change ResponderManager to a simple case class
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_2" type="checkbox" id="__nav_5_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1_2">
          DSP-API Design Principles
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP-API Design Principles" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_2">
          <span class="md-nav__icon md-icon"></span>
          DSP-API Design Principles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/design-overview/" class="md-nav__link">
        Design Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/futures-with-akka/" class="md-nav__link">
        Futures with Akka
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/http-module/" class="md-nav__link">
        HTTP Module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/store-module/" class="md-nav__link">
        Store Module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/triplestore-updates/" class="md-nav__link">
        Triplestore Updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/consistency-checking/" class="md-nav__link">
        Consistency Checking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/principles/rdf-api/" class="md-nav__link">
        RDF Processing API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_3" type="checkbox" id="__nav_5_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1_3">
          DSP-API V1 Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP-API V1 Design" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_3">
          <span class="md-nav__icon md-icon"></span>
          DSP-API V1 Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v1/how-to-add-a-route/" class="md-nav__link">
        How to Add an API v1 Route
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v1/json/" class="md-nav__link">
        JSON in API v1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_4" type="checkbox" id="__nav_5_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1_4">
          DSP-API V2 Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DSP-API V2 Design" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_4">
          <span class="md-nav__icon md-icon"></span>
          DSP-API V2 Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/overview/" class="md-nav__link">
        API v2 Design Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/ontology-schemas/" class="md-nav__link">
        Ontology Schemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/smart-iris/" class="md-nav__link">
        Smart IRIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/content-wrappers/" class="md-nav__link">
        Content Wrappers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/how-to-add-a-route/" class="md-nav__link">
        How to Add an API v2 Route
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/json-ld/" class="md-nav__link">
        JSON-LD Parsing and Formatting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/ontology-management/" class="md-nav__link">
        Ontology Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/sipi/" class="md-nav__link">
        DSP-API and Sipi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/gravsearch/" class="md-nav__link">
        Gravsearch Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/standoff/" class="md-nav__link">
        Standoff Markup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/ark/" class="md-nav__link">
        Archival Resource Key (ARK)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-v2/query-design/" class="md-nav__link">
        SPARQL Query Design
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_5" type="checkbox" id="__nav_5_1_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1_5">
          Admin API Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Admin API Design" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_5">
          <span class="md-nav__icon md-icon"></span>
          Admin API Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/design/api-admin/administration/" class="md-nav__link">
        Administration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/building-and-running/" class="md-nav__link">
        Build and Running
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/vscode-config/" class="md-nav__link">
        Setup Visual Studio Code for development of DSP-API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/docker-cheat-sheet/" class="md-nav__link">
        Docker Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/monitoring/" class="md-nav__link">
        Monitoring DSP-API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/docker-compose/" class="md-nav__link">
        Starting the DSP-Stack inside Docker Container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/updating-repositories/" class="md-nav__link">
        Updating Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/generating-client-test-data/" class="md-nav__link">
        Generating Client Test Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-internals/development/third-party/" class="md-nav__link">
        Third-Party Dependencies
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          SIPI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SIPI" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          SIPI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-sipi/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-sipi/setup-sipi-for-dsp-api/" class="md-nav__link">
        Setting Up Sipi for DSP-API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-sipi/sipi-and-dsp-api/" class="md-nav__link">
        Interaction between Sipi and DSP-API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Lucene
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lucene" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Lucene
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../07-lucene/lucene-query-parser-syntax/" class="md-nav__link">
        Lucene Query Parser Syntax
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../08-faq/" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../09-release-notes/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-knora-standard-mapping" class="md-nav__link">
    The Knora Standard Mapping
  </a>
  
    <nav class="md-nav" aria-label="The Knora Standard Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintenance" class="md-nav__link">
    Maintenance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-custom-mapping" class="md-nav__link">
    Creating a custom Mapping
  </a>
  
    <nav class="md-nav" aria-label="Creating a custom Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-structure-of-a-mapping" class="md-nav__link">
    Basic Structure of a Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-and-class-attributes" class="md-nav__link">
    id and class Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-cardinalities" class="md-nav__link">
    Respecting Cardinalities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standoff-data-types" class="md-nav__link">
    Standoff Data Types
  </a>
  
    <nav class="md-nav" aria-label="Standoff Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internal-references-in-an-xml-document" class="md-nav__link">
    Internal References in an XML Document
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-standoff-classes-and-properties" class="md-nav__link">
    Predefined Standoff Classes and Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respecting-property-types" class="md-nav__link">
    Respecting Property Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-a-mapping-and-sending-it-to-knora" class="md-nav__link">
    Validating a Mapping and sending it to Knora
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <a href="https://github.com/dasch-swiss/dsp-api/blob/main/docs/03-endpoints/api-v1/xml-to-standoff-mapping.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<!---
 * Copyright  2021 - 2022 Swiss National Data and Service Center for the Humanities and/or DaSCH Service Platform contributors.
 * SPDX-License-Identifier: Apache-2.0
-->

<h1 id="xml-to-standoff-mapping-in-api-v1">XML to Standoff Mapping in API v1</h1>
<h2 id="the-knora-standard-mapping">The Knora Standard Mapping</h2>
<h3 id="description">Description</h3>
<p>A mapping allows for the conversion of XML to standoff representation in
RDF and back. In order to create a <code>TextValue</code> with markup, the text has
to be provided in XML format, along with the IRI of the mapping that
will be used to convert the markup to standoff. However, a mapping is
only needed if a TextValue with markup should be created. If a text has
no markup, it is submitted as a mere sequence of characters.</p>
<p>The two cases are described in the TypeScript interfaces <code>simpletext</code>
and <code>richtext</code> in module <code>basicMessageComponents</code>.</p>
<p>Knora offers a standard mapping with the IRI
<code>http://rdfh.ch/standoff/mappings/StandardMapping</code>. The
standard mapping covers the HTML elements and attributes supported by
the GUI's text editor, <a href="https://ckeditor.com/">CKEditor</a>. (Please note that the HTML has to be
encoded in strict XML syntax. CKeditor offers the possibility to define filter rules.
They should reflect the elements supported by the mapping; see <code>jquery.htmleditor.js</code>.)
The standard mapping contains the following elements and attributes that are mapped to standoff classes
and properties defined in the ontology:</p>
<ul>
<li><code>&lt;text&gt;</code>  <code>standoff:StandoffRootTag</code></li>
<li><code>&lt;p&gt;</code>  <code>standoff:StandoffParagraphTag</code></li>
<li><code>&lt;em&gt;</code>  <code>standoff:StandoffItalicTag</code></li>
<li><code>&lt;strong&gt;</code>  <code>standoff:StandoffBoldTag</code></li>
<li><code>&lt;u&gt;</code>  <code>standoff:StandoffUnderlineTag</code></li>
<li><code>&lt;sub&gt;</code>  <code>standoff:StandoffSubscriptTag</code></li>
<li><code>&lt;sup&gt;</code>  <code>standoff:StandoffSuperscriptTag</code></li>
<li><code>&lt;strike&gt;</code>  <code>standoff:StandoffStrikeTag</code></li>
<li><code>&lt;a href="URL"&gt;</code>  <code>knora-base:StandoffUriTag</code></li>
<li><code>&lt;a class="salsah-link" href="Knora IRI"&gt;</code>  <code>knora-base:StandoffLinkTag</code></li>
<li><code>&lt;a class="internal-link" href="#fragment"&gt;</code>  <code>knora-base:StandoffInternalReferenceTag</code></li>
<li><code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code>  <code>standoff:StandoffHeader1Tag</code> to <code>standoff:StandoffHeader6Tag</code></li>
<li><code>&lt;ol&gt;</code>  <code>standoff:StandoffOrderedListTag</code></li>
<li><code>&lt;ul&gt;</code>  <code>standoff:StandoffUnrderedListTag</code></li>
<li><code>&lt;li&gt;</code>  <code>standoff:StandoffListElementTag</code></li>
<li><code>&lt;tbody&gt;</code>  <code>standoff:StandoffTableBodyTag</code></li>
<li><code>&lt;table&gt;</code>  <code>standoff:StandoffTableTag</code></li>
<li><code>&lt;tr&gt;</code>  <code>standoff:StandoffTableRowTag</code></li>
<li><code>&lt;td&gt;</code>  <code>standoff:StandoffTableCellTag</code></li>
<li><code>&lt;br&gt;</code>  <code>standoff:StandoffBrTag</code></li>
<li><code>&lt;hr&gt;</code>  <code>standoff:StandoffLineTag</code></li>
<li><code>&lt;pre&gt;</code>  <code>standoff:StandoffPreTag</code></li>
<li><code>&lt;cite&gt;</code>  <code>standoff:StandoffCiteTag</code></li>
<li><code>&lt;blockquote&gt;</code>  <code>standoff:StandoffBlockquoteTag</code></li>
<li><code>&lt;code&gt;</code>  <code>standoff:StandoffCodeTag</code></li>
</ul>
<p>The HTML produced by CKEditor is wrapped in an XML doctype and a pair of
root tags <code>&lt;text&gt;...&lt;/text&gt;</code> and then sent to Knora. The XML sent to the
GUI by Knora is unwrapped accordingly (see <code>jquery.htmleditor.js</code>).
Although the GUI supports HTML5, it is treated as if it was XHTML in
strict XML notation.</p>
<h3 id="maintenance">Maintenance</h3>
<p>The standard mapping definition can be found at
<code>test_data/test_route/texts/mappingForStandardHTML.xml</code>. It was
used to generate the default mapping, distributed as
<code>knora-ontologies/standoff-data.ttl</code> and that is loaded at a Knora
installation. It should be used to re-generate it, whenever we want to
amend or extend it.</p>
<p>Note: once the mapping has been generated, one has to rework the
resources' UUID in order to maintain backward compatibility.</p>
<h2 id="creating-a-custom-mapping">Creating a custom Mapping</h2>
<p>The Knora standard mapping only supports a few HTML tags. In order to
submit more complex XML markup to Knora, a custom mapping has to be
created first. Basically, a mapping expresses the relations between XML
elements and attributes and their corresponding standoff classes and
properties. The relations expressed in a mapping are one-to-one
relations, so the XML can be recreated from the data in RDF. However,
since HTML offers a very limited set of elements, Knora mappings support
the combination of element names and classes. In this way, the same
element can be used several times in combination with another classname
(please note that <code>&lt;a&gt;</code> without a class is a mere hyperlink whereas <code>&lt;a class="salsah-link"&gt;</code> is an internal link/standoff link).</p>
<p>With a mapping, a default XSL transformation may be provided to
transform the XML to HTML before sending it back to the client. This is
useful when the client is a web-browser expecting HTML (instead of XML).</p>
<h3 id="basic-structure-of-a-mapping">Basic Structure of a Mapping</h3>
<p>The mapping is written in XML itself (for a formal description, see
<code>webapi/src/resources/mappingXMLToStandoff.xsd</code>). It has the following
structure (the indentation corresponds to the nesting in XML):</p>
<ul>
<li>
<p><code>&lt;mapping&gt;</code>: the root element</p>
</li>
<li>
<p><code>&lt;defaultXSLTransformation&gt; (optional)</code>: the Iri of the
    default XSL transformation to be applied to the XML when
    reading it back from Knora. The XSL transformation is
    expected to produce HTML. If given, the Iri has to refer to
    a resource of type <code>knora-base:XSLTransformation</code>.</p>
</li>
<li>
<p><code>&lt;mappingElement&gt;</code>: an element of the mapping (at least
    one)</p>
<ul>
<li>
<p><code>&lt;tag&gt;</code>: information about the XML element that
  is mapped to a standoff class</p>
</li>
<li>
<p><code>&lt;name&gt;</code>: name of the XML element</p>
</li>
<li><code>&lt;class&gt;</code>: value of the class attribute of
    the XML element, if any. If the element has
    no class attribute, the keyword <code>noClass</code>
    has to be used.</li>
<li><code>&lt;namespace&gt;</code>: the namespace the XML element
    belongs to, if any. If the element does not
    belong to a namespace, the keyword
    <code>noNamespace</code> has to be used.</li>
<li>
<p><code>&lt;separatesWords&gt;</code>: a Boolean value
    indicating whether this tag separates words
    in the text. Once an XML document is
    converted to RDF-standoff the markup is
    stripped from the text, possibly leading to
    continuous text that has been separated by
    tags before. For structural tags like
    paragraphs etc., <code>&lt;separatesWords&gt;</code> can be
    set to <code>true</code> in which case a special
    separator is inserted in the the text in the
    RDF representation. In this way, words stay
    separated and are represented in the
    fulltext index as such.</p>
</li>
<li>
<p><code>&lt;standoffClass&gt;</code>: information about the
  standoff class the XML element is mapped to</p>
</li>
<li>
<p><code>&lt;classIri&gt;</code>: Iri of the standoff class the
    XML element is mapped to</p>
</li>
<li>
<p><code>&lt;attributes&gt;</code>: XML attributes to be
    mapped to standoff properties (other
    than <code>id</code> or <code>class</code>), if any</p>
<ul>
<li>
<p><code>&lt;attribute&gt;</code>: an XML attribute
  to be mapped to a standoff
  property, may be repeated</p>
</li>
<li>
<p><code>&lt;attributeName&gt;</code>: the name
    of the XML attribute</p>
</li>
<li><code>&lt;namespace&gt;</code>: the namespace
    the attribute belongs to, if
    any. If the attribute does
    not belong to a namespace,
    the keyword <code>noNamespace</code>
    has to be used.</li>
<li><code>&lt;propertyIri&gt;</code>: the Iri of
    the standoff property the
    XML attribute is mapped to.</li>
</ul>
</li>
<li>
<p><code>&lt;datatype&gt;</code>: the data type of the
    standoff class, if any.</p>
<ul>
<li><code>&lt;type&gt;</code>: the Iri of the data type
  standoff class</li>
<li><code>&lt;attributeName&gt;</code>: the name of the
  attribute holding the typed value in
  the expected Knora standard format</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>XML structure of a mapping:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping&gt;
    &lt;defaultXSLTransformation&gt;Iri of a knora-base:XSLTransformation&lt;/defaultXSLTransformation&gt;
    &lt;mappingElement&gt;
        &lt;tag&gt;
            &lt;name&gt;XML element name&lt;/name&gt;
            &lt;class&gt;XML class name or &quot;noClass&quot;&lt;/class&gt;
            &lt;namespace&gt;XML namespace or &quot;noNamespace&quot;&lt;/namespace&gt;
            &lt;separatesWords&gt;true or false&lt;/separatesWords&gt;
        &lt;/tag&gt;
        &lt;standoffClass&gt;
            &lt;classIri&gt;standoff class Iri&lt;/classIri&gt;
            &lt;attributes&gt;
                &lt;attribute&gt;
                    &lt;attributeName&gt;XML attribute name&lt;/attributeName&gt;
                    &lt;namespace&gt;XML namespace or &quot;noNamespace&quot;&lt;/namespace&gt;
                    &lt;propertyIri&gt;standoff property Iri&lt;/propertyIri&gt;
                &lt;/attribute&gt;
            &lt;/attributes&gt;
            &lt;datatype&gt;
                &lt;type&gt;standoff data type class&lt;/type&gt;
                &lt;attributeName&gt;XML attribute with the typed value&lt;/attributeName&gt;
            &lt;/datatype&gt;
        &lt;/standoffClass&gt;
    &lt;/mappingElement&gt;
    &lt;mappingElement&gt;
       ...
    &lt;/mappingElement&gt;
&lt;/mapping&gt;
</code></pre>
<p>Please note that the absence of an XML namespace and/or a class have to
be explicitly stated using the keywords <code>noNamespace</code> and
<code>noClass</code>. (This is because we use XML Schema validation to ensure the one-to-one
relations between XML elements and standoff classes. XML Schema validation's unique checks
do not support optional values.)</p>
<h3 id="id-and-class-attributes"><code>id</code> and <code>class</code> Attributes</h3>
<p>The <code>id</code> and <code>class</code> attributes are supported by default and do not have
to be included in the mapping like other attributes. The <code>id</code> attribute
identifies an element and must be unique in the document. <code>id</code> is an
optional attribute. The <code>class</code> attribute allows for the reuse of an
element in the mapping, i.e. the same element can be combined with
different class names and mapped to different standoff classes (mapping
element <code>&lt;class&gt;</code> in <code>&lt;tag&gt;</code>).</p>
<h3 id="respecting-cardinalities">Respecting Cardinalities</h3>
<p>A mapping from XML elements and attributes to standoff classes and
standoff properties must respect the cardinalities defined in the
ontology for those very standoff classes. If an XML element is mapped to
a certain standoff class and this class requires a standoff property, an
attribute must be defined for the XML element mapping to that very
standoff property. Equally, all mappings for attributes of an XML
element must have corresponding cardinalities for standoff properties
defined for the standoff class the XML element maps to.</p>
<p>However, since an XML attribute may occur once at maximum, it makes
sense to make the corresponding standoff property required
(<code>owl:cardinality</code> of one) in the ontology or optional
(<code>owl:maxCardinality</code> of one), but not allowing it more than once.</p>
<h3 id="standoff-data-types">Standoff Data Types</h3>
<p>Knora allows the use of all its value types as standoff data types
(defined in <code>knora-base.ttl</code>):</p>
<ul>
<li><code>knora-base:StandoffLinkTag</code>: Represents a reference to a Knora
  resource (the IRI of the target resource must be submitted in the
  data type attribute).</li>
<li><code>knora-base:StandoffInternalReferenceTag</code>: Represents an internal
  reference inside a document (the id of the target element inside the
  same document must be indicated in the data type attribute); see
  <a href="#internal-references-in-an-xml-document">Internal References in an XML Document</a>.</li>
<li><code>knora-base:StandoffUriTag</code>: Represents a reference to a URI (the
  URI of the target resource must be submitted in the data type
  attribute).</li>
<li><code>knora-base:StandoffDateTag</code>: Represents a date (a Knora date
  string must be submitted in the data type attribute, e.g.
  <code>GREGORIAN:2017-01-27</code>).</li>
<li><code>knora-base:StandoffColorTag</code>: Represents a color (a hexadecimal
  RGB color string must be submitted in the data type attribute, e.g.
  <code>#0000FF</code>).</li>
<li><code>knora-base:StandoffIntegerTag</code>: Represents an integer (the integer
  must be submitted in the data type attribute).</li>
<li><code>knora-base:StandoffDecimalTag</code>: Represents a number with fractions
  (the decimal number must be submitted in the data type attribute,
  e.g. <code>1.1</code>).</li>
<li><code>knora-base:StandoffIntervalTag</code>: Represents an interval (two
  decimal numbers separated with a comma must be submitted in the data
  type attribute, e.g. <code>1.1,2.2</code>).</li>
<li><code>knora-base:StandoffBooleanTag</code>: Represents a Boolean value (<code>true</code>
  or <code>false</code> must be submitted in the data type attribute).</li>
<li><code>knora-base:StandoffTimeTag</code>: Represents a timestamp value (an <code>xsd:dateTimeStamp</code>
  must be submitted in the data type attribute).</li>
</ul>
<p>The basic idea is that parts of a text can be marked up in a way that
allows using Knora's built-in data types. In order to do so, the typed
values have to be provided in a standardized way in an attribute that
has to be defined in the mapping.</p>
<p>Data type standoff classes are standoff classes with predefined
properties (e.g., a <code>knora-base:StandoffLinkTag</code> has a
<code>knora-base:standoffTagHasLink</code> and a <code>knora-base:StandoffIntegerTag</code>
has a <code>knora-base:valueHasInteger</code>). Please note the data type standoff
classes can not be combined, i.e. a standoff class can only be the
subclass of <strong>one</strong> data type standoff class. However, standoff data
type classes can be subclassed and extended further by assigning
properties to them (see below).</p>
<p>The following simple mapping illustrates this principle:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping&gt;
     &lt;mappingElement&gt;
        &lt;tag&gt;
            &lt;name&gt;text&lt;/name&gt;
            &lt;class&gt;noClass&lt;/class&gt;
            &lt;namespace&gt;noNamespace&lt;/namespace&gt;
            &lt;separatesWords&gt;false&lt;/separatesWords&gt;
        &lt;/tag&gt;
        &lt;standoffClass&gt;
            &lt;classIri&gt;http://www.knora.org/ontology/standoff#StandoffRootTag&lt;/classIri&gt;
        &lt;/standoffClass&gt;
    &lt;/mappingElement&gt;

    &lt;mappingElement&gt;
        &lt;tag&gt;
            &lt;name&gt;mydate&lt;/name&gt;
            &lt;class&gt;noClass&lt;/class&gt;
            &lt;namespace&gt;noNamespace&lt;/namespace&gt;
            &lt;separatesWords&gt;false&lt;/separatesWords&gt;
        &lt;/tag&gt;
        &lt;standoffClass&gt;
            &lt;classIri&gt;http://www.knora.org/ontology/0001/anything#StandoffEventTag&lt;/classIri&gt;
            &lt;attributes&gt;
                &lt;attribute&gt;
                    &lt;attributeName&gt;description&lt;/attributeName&gt;
                    &lt;namespace&gt;noNamespace&lt;/namespace&gt;
                    &lt;propertyIri&gt;http://www.knora.org/ontology/0001/anything#standoffEventTagHasDescription&lt;/propertyIri&gt;
                &lt;/attribute&gt;
            &lt;/attributes&gt;
            &lt;datatype&gt;
                &lt;type&gt;http://www.knora.org/ontology/knora-base#StandoffDateTag&lt;/type&gt;
                &lt;attributeName&gt;knoraDate&lt;/attributeName&gt;
            &lt;/datatype&gt;
        &lt;/standoffClass&gt;
    &lt;/mappingElement&gt;
&lt;/mapping&gt;
</code></pre>
<p><code>&lt;datatype&gt;</code> <strong>must</strong> hold the Iri of a standoff data type class (see
list above). The <code>&lt;classIri&gt;</code> must be a subclass of this type or this
type itself (the latter is probably not recommendable since semantics
are missing: what is the meaning of the date?). In the example above,
the standoff class is <code>anything:StandoffEventTag</code> which has the
following definition in the ontology <code>anything-onto.ttl</code>:</p>
<pre><code>anything:StandoffEventTag rdf:type owl:Class ;

    rdfs:subClassOf knora-base:StandoffDateTag,
                   [
                      rdf:type owl:Restriction ;
                      owl:onProperty :standoffEventTagHasDescription ;
                      owl:cardinality &quot;1&quot;^^xsd:nonNegativeInteger
                   ] ;

    rdfs:label &quot;Represents an event in a TextValue&quot;@en ;

    rdfs:comment &quot;&quot;&quot;Represents an event in a TextValue&quot;&quot;&quot;@en .
</code></pre>
<p><code>anything:StandoffEventTag</code> is a subclass of
<code>knora-base:StandoffDateTag</code> and therefore has the data type date. It
also requires the standoff property
<code>anything:standoffEventTagHasDescription</code> which is defined as an
attribute in the mapping.</p>
<p>Once the mapping has been created, an XML like the following could be
sent to Knora and converted to standoff:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;text&gt;
    We had a party on &lt;mydate description=&quot;new year&quot; knoraDate=&quot;GREGORIAN:2016-12-31&quot;&gt;New Year's Eve&lt;/mydate&gt;. It was a lot of fun.
&lt;/text&gt;
</code></pre>
<p>The attribute holds the date in the format of a Knora date string (the
format is also documented in the typescript type alias <code>dateString</code> in
module <code>basicMessageComponents</code>. There you will also find documentation
about the other types like color etc.). Knora date strings have this
format: <code>GREGORIAN|JULIAN):YYYY[-MM[-DD]][:YYYY[-MM[-DD]]]</code>. This allows
for different formats as well as for imprecision and periods. Intervals
are submitted as one attribute in the following format:
<code>interval-attribute="1.0,2.0"</code> (two decimal numbers separated with a
comma).</p>
<p>You will find a sample mapping with all the data types and a sample XML
file in the the test data:
<code>test_data/test_route/texts/mappingForHTML.xml</code> and
<code>test_data/test_route/texts/HTML.xml</code>.</p>
<h4 id="internal-references-in-an-xml-document">Internal References in an XML Document</h4>
<p>Internal references inside an XML document can be represented using the
data type standoff class <code>knora-base:StandoffInternalReferenceTag</code> or a
subclass of it. This class has a standoff property that points to a
standoff node representing the target XML element when converted to RDF.</p>
<p>The following example shows the definition of a mapping element for an
internal reference (for reasons of simplicity, only the mapping element
for the element is question is depicted):</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mappingElement&gt;
    &lt;tag&gt;
        &lt;name&gt;ref&lt;/name&gt;
        &lt;class&gt;noClass&lt;/class&gt;
        &lt;namespace&gt;noNamespace&lt;/namespace&gt;
        &lt;separatesWords&gt;false&lt;/separatesWords&gt;
    &lt;/tag&gt;
    &lt;standoffClass&gt;
        &lt;classIri&gt;http://www.knora.org/ontology/knora-base#StandoffInternalReferenceTag&lt;/classIri&gt;
        &lt;datatype&gt;
            &lt;type&gt;http://www.knora.org/ontology/knora-base#StandoffInternalReferenceTag&lt;/type&gt;
            &lt;attributeName&gt;internalRef&lt;/attributeName&gt;
        &lt;/datatype&gt;
    &lt;/standoffClass&gt;
&lt;/mappingElement&gt;
</code></pre>
<p>Now, an internal reference to an element in the same document can be
made that will be converted to a pointer in RDF:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;text&gt;
    This is an &lt;sample id=&quot;1&quot;&gt;element&lt;/sample&gt; and here is a reference to &lt;ref internalRef=&quot;#1&quot;&gt;it&lt;/ref&gt;.
&lt;/text&gt;
</code></pre>
<p>An internal reference in XML has to start with a <code>#</code> followed by the
value of the <code>id</code> attribute of the element referred to.</p>
<h3 id="predefined-standoff-classes-and-properties">Predefined Standoff Classes and Properties</h3>
<p>The standoff ontology <code>standoff-onto.ttl</code> offers a set of predefined
standoff classes that can be used in a custom mapping like the
following:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping&gt;
    &lt;mappingElement&gt;
        &lt;tag&gt;
            &lt;name&gt;myDoc&lt;/name&gt;
            &lt;class&gt;noClass&lt;/class&gt;
            &lt;namespace&gt;noNamespace&lt;/namespace&gt;
            &lt;separatesWords&gt;false&lt;/separatesWords&gt;
        &lt;/tag&gt;
        &lt;standoffClass&gt;
            &lt;classIri&gt;http://www.knora.org/ontology/standoff#StandoffRootTag&lt;/classIri&gt;
            &lt;attributes&gt;
                &lt;attribute&gt;
                    &lt;attributeName&gt;documentType&lt;/attributeName&gt;
                    &lt;namespace&gt;noNamespace&lt;/namespace&gt;
                    &lt;propertyIri&gt;http://www.knora.org/ontology/standoff#standoffRootTagHasDocumentType&lt;/propertyIri&gt;
                &lt;/attribute&gt;
            &lt;/attributes&gt;
        &lt;/standoffClass&gt;
    &lt;/mappingElement&gt;

    &lt;mappingElement&gt;
        &lt;tag&gt;
            &lt;name&gt;p&lt;/name&gt;
            &lt;class&gt;noClass&lt;/class&gt;
            &lt;namespace&gt;noNamespace&lt;/namespace&gt;
            &lt;separatesWords&gt;true&lt;/separatesWords&gt;
        &lt;/tag&gt;
        &lt;standoffClass&gt;
            &lt;classIri&gt;http://www.knora.org/ontology/standoff#StandoffParagraphTag&lt;/classIri&gt;
        &lt;/standoffClass&gt;
    &lt;/mappingElement&gt;

    &lt;mappingElement&gt;
        &lt;tag&gt;
            &lt;name&gt;i&lt;/name&gt;
            &lt;class&gt;noClass&lt;/class&gt;
            &lt;namespace&gt;noNamespace&lt;/namespace&gt;
            &lt;separatesWords&gt;false&lt;/separatesWords&gt;
        &lt;/tag&gt;
        &lt;standoffClass&gt;
            &lt;classIri&gt;http://www.knora.org/ontology/standoff#StandoffItalicTag&lt;/classIri&gt;
        &lt;/standoffClass&gt;
    &lt;/mappingElement&gt;
&lt;/mapping&gt;
</code></pre>
<p>Predefined standoff classes may be used by various projects, each
providing a custom mapping to be able to recreate the original XML from
RDF. Predefined standoff classes may also be inherited and extended in
project specific ontologies.</p>
<p>The mapping above allows for an XML like this:</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;myDoc documentType=&quot;letter&quot;&gt;
    &lt;p&gt;
        This my text that is &lt;i&gt;very&lt;/i&gt; interesting.
    &lt;/p&gt;
    &lt;p&gt;
        And here it goes on.
    &lt;/p&gt;
&lt;/myDoc&gt;
</code></pre>
<h3 id="respecting-property-types">Respecting Property Types</h3>
<p>When mapping XML attributes to standoff properties, attention has to be
paid to the properties' object constraints.</p>
<p>In the ontology, standoff property literals may have one of the
following <code>knora-base:objectDatatypeConstraint</code>:</p>
<ul>
<li><code>xsd:string</code></li>
<li><code>xsd:integer</code></li>
<li><code>xsd:boolean</code></li>
<li><code>xsd:decimal</code></li>
<li><code>xsd:anyURI</code></li>
</ul>
<p>In XML, all attribute values are submitted as strings. However, these
string representations need to be convertible to the types defined in
the ontology. If they are not, the request will be rejected. It is
recommended to enforce types on attributes by applying XML Schema
validations (restrictions).</p>
<p>Links (object property) to a <code>knora-base:Resource</code> can be represented
using the data type standoff class <code>knora-base:StandoffLinkTag</code>,
internal links using the data type standoff class
<code>knora-base:StandoffInternalReferenceTag</code>.</p>
<h3 id="validating-a-mapping-and-sending-it-to-knora">Validating a Mapping and sending it to Knora</h3>
<p>A mapping can be validated before sending it to Knora with the following
XML Schema file: <code>webapi/src/resources/mappingXMLToStandoff.xsd</code>. Any
mapping that does not conform to this XML Schema file will be rejected
by Knora.</p>
<p>The mapping has to be sent as a multipart request to the standoff route
using the path segment <code>mapping</code>:</p>
<pre><code>HTTP POST http://host/v1/mapping
</code></pre>
<p>The multipart request consists of two named parts:</p>
<pre><code>&quot;json&quot;:

  {
    &quot;project_id&quot;: &quot;projectIRI&quot;,
    &quot;label&quot;: &quot;my mapping&quot;,
    &quot;mappingName&quot;: &quot;MappingNameSegment&quot;
  }

&quot;xml&quot;:

  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;mapping&gt;
      ...
  &lt;/mapping&gt;
</code></pre>
<p>A successful response returns the Iri of the mapping. However, the Iri
of a mapping is predictable: it consists of the project Iri followed by
<code>/mappings/</code> and the <code>mappingName</code> submitted in the JSON (if the name
already exists, the request will be rejected). Once created, a mapping
can be used to create TextValues in Knora. The formats are documented in
the typescript interfaces <code>addMappingRequest</code> and <code>addMappingResponse</code>
in module <code>mappingFormats</code></p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-11-24
    
  </small>
</div>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../reading-and-searching-resources/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Reading and Searching Resources" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Reading and Searching Resources
            </div>
          </div>
        </a>
      
      
        
        <a href="../adding-resources/" class="md-footer__link md-footer__link--next" aria-label="Next: Adding Resources" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Adding Resources
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2021 - 2022 <a href='https://dasch.swiss' target='_blank'>Swiss National Data and Service Center for the Humanities and/or DaSCH Service Platform contributors.</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.sections"], "search": "../../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.2ab50757.min.js"></script>
      
    
  </body>
</html>